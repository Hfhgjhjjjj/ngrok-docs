import {
	ExampleHTTP,
	CelSingleVariable,
	CelWithCastingExample,
	CelWithCaptureGroups,
} from "/examples/actions/redirect.mdx";

# Redirect

## Overview

The Redirect policy action enables transforming your URL using regular expressions and redirect through location header.

## Example

Use this action config in your [Traffic Policy](/docs/http/traffic-policy/index.mdx)

<ExampleHTTP />

## Behavior

When executed this action will abort the request and replace all matches on the inbound URL with the configured replacements. Before regex replacement, all variables or expressions will be replaced with their corresponding values. [Cel expressions](https://ngrok.com/docs/http/traffic-policy/expressions) are used for `ngrok`, and [named variables](#named-variables) for `nginx`.

## Reference

### Supported Directions

- Inbound

### Configuration

| Type       |
| ---------- |
| `redirect` |

| Parameter     | &nbsp;                    | Description                                                                                                                                                     |
| ------------- | ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from`        | string                    | A regular expression string to match inside of the URL. Also contains [cel expressions](/docs/http/traffic-policy/expressions/) outside of regular regex.       |
| `to`          | string                    | A regular expression string to replace the `from` match with. Also contains [cel expressions](/docs/http/traffic-policy/expressions/) outside of regular regex. |
| `status_code` | int                       | 3xx status code used for redirecting, 302 by default.                                                                                                           |
| `headers`     | Map&lt;string, string&gt; | Headers to be added to the request.                                                                                                                             |
| `format`      | string                    | (default: `ngrok`). Determines interpolation format in `to`/`from` fields.                                                                                      |

## Examples

_For an exhaustive list of variables, macros, and expressions, checkout [cel expressions](https://ngrok.com/docs/http/traffic-policy/expressions/)_.

<CelSingleVariable />
<CelWithCastingExample />
<CelWithCaptureGroups />
